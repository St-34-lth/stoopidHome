# Mosquitto Broker Configuration File

############################################
# Unencrypted MQTT (TCP)
############################################
listener 1883 0.0.0.0

############################################
# MQTT over WebSockets
############################################
listener 9090 0.0.0.0 
protocol websockets

############################################
# Authentication
############################################
allow_anonymous true
# password_file /mosquitto/passwd

############################################
# Persistence Settings (message queue to disk)
############################################
persistence true
persistence_location /mosquitto/data/

############################################
# Logging Settings
############################################
log_dest file /mosquitto/log/mosquitto.log
# For troubleshooting, debug level is helpful.
# In production, consider using "log_type info" to reduce verbosity.
log_type debug

############################################
# TLS Encrypted MQTT (Secure MQTT)
############################################
listener 8883 0.0.0.0

cafile /mosquitto/ca.crt
certfile /mosquitto/server.crt
keyfile /mosquitto/server.key
tls_version tlsv1.2

# Enable mutual TLS by requiring client certificates.
# If you do not need client certificates, you can comment this out.
require_certificate true
